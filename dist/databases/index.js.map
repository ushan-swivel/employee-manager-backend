{"version":3,"sources":["../../src/databases/index.ts"],"sourcesContent":["import { logger } from '@/utils/logger';\nimport { DB_URL, NODE_ENV } from '@config';\nimport { connect, connection, set } from 'mongoose';\n\nconst dbConnection = {\n  url: DB_URL,\n};\n\nexport const connectToDatabase = () => {\n  logger.info('Connecting to Database..');\n  if (NODE_ENV !== 'production') {\n    set('debug', true);\n  }\n\n  connect(dbConnection.url);\n  connection.on('error', e => {\n    logger.error(e);\n  });\n  connection.on('open', e => {\n    logger.info('MongoDb Connected');\n  });\n};\n"],"names":["connectToDatabase","dbConnection","url","DB_URL","logger","info","NODE_ENV","set","connect","connection","on","e","error"],"mappings":"AAAA;;;;+BAQaA,mBAAiB;;aAAjBA,iBAAiB;;wBARP,iBAAgB;wBACN,WAAS;0BACD,UAAU;AAEnD,MAAMC,YAAY,GAAG;IACnBC,GAAG,EAAEC,OAAM,OAAA;CACZ,AAAC;AAEK,MAAMH,iBAAiB,GAAG,IAAM;IACrCI,OAAM,OAAA,CAACC,IAAI,CAAC,0BAA0B,CAAC,CAAC;IACxC,IAAIC,OAAQ,SAAA,KAAK,YAAY,EAAE;QAC7BC,IAAAA,SAAG,IAAA,EAAC,OAAO,EAAE,IAAI,CAAC,CAAC;KACpB;IAEDC,IAAAA,SAAO,QAAA,EAACP,YAAY,CAACC,GAAG,CAAC,CAAC;IAC1BO,SAAU,WAAA,CAACC,EAAE,CAAC,OAAO,EAAEC,CAAAA,CAAC,GAAI;QAC1BP,OAAM,OAAA,CAACQ,KAAK,CAACD,CAAC,CAAC,CAAC;KACjB,CAAC,CAAC;IACHF,SAAU,WAAA,CAACC,EAAE,CAAC,MAAM,EAAEC,CAAAA,CAAC,GAAI;QACzBP,OAAM,OAAA,CAACC,IAAI,CAAC,mBAAmB,CAAC,CAAC;KAClC,CAAC,CAAC;CACJ,AAAC"}